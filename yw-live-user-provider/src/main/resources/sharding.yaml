dataSources:
  yw-live-user: ##新表，重建的分表
    dataSourceClassName: com.zaxxer.hikari.HikariDataSource
    driver-class-name: com.mysql.cj.jdbc.Driver
    jdbcUrl: jdbc:mysql://192.168.211.132:16036/yw_live_user?useUnicode=true&characterEncoding=utf8
    username: root
    password: www.yyj.com
    hikari:
      pool-name: yw-live-user-pool
      minimum-idle: 2
      maximum-pool-size: 20
      connection-init-sql: select 1
      connection-timeout: 3000
      max-lifetime: 60000

rules:
  - !SINGLE
    defaultDataSource: yw-live-user ## 不分表分库的默认数据源
  - !SHARDING
    tables:
      t_user:
        actualDataNodes: yw-live-user.t_user_${(0..99).collect(){it.toString().padLeft(2,'0')}}
        tableStrategy:
          standard:
            shardingColumn: user_id
            shardingAlgorithmName: t_user-inline

    shardingAlgorithms:
      t_user-inline:
        type: INLINE
        props:
          algorithm-expression: t_user_${(user_id % 100).toString().padLeft(2,'0')}

props:
  sql-show: true  #打印sql